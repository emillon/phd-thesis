\newcommand{\irule}[3]{ \inferrule*[right=(#1)]{#2}{#3} }

% Fix '::' -> ': :' when using babel
\newenvironment{grammarf}{\shorthandoff{:}\begin{grammar}}{\end{grammar}\shorthandon{:}}


% Syntax
\newcommand{\iIf}[3]{\textsc{if}~ #1 ~\textsc{then}~ #2 ~\textsc{else}~ #3}

% Types
\newcommand{\tInt}{\textsc{Int}}
\newcommand{\tFloat}{\textsc{Float}}
\newcommand{\tVoid}{\textsc{Void}}

% Constant
\newcommand{\cNil}{\textsc{Nil}}

% Program & language names
\newcommand{\ctonewspeak}{\textsc{c2newspeak}}
\newcommand{\cpp}{\textsc{cpp}}
\newcommand{\newspeak}{\textsc{Newspeak}}

% Newspeak
\newcommand{\npkWhile}[1]{\textsc{While}(1)\{#1\}}
\newcommand{\npkGoto}[1]{\textsc{Goto}~#1}

\newcommand{\insertcode}[1]{\input{gen/#1.pyg.tex}}

% \chapter* + add to toc
\newcommand{\chapterstar}[1]{\chapter*{#1} \addcontentsline{toc}{chapter}{#1}}

% Register names
\def\defreg#1{\expandafter\def\csname#1\endcsname{\textsc{#1}\xspace}}

\defreg{eax}
\defreg{ebx}
\defreg{ecx}
\defreg{edx}
\defreg{esi}
\defreg{edi}
\defreg{ebp}
\defreg{esp}
\defreg{eip}
\defreg{eflags}

\def\crtrois{\textsc{CR3}}

\newcommand{\ring}[1]{\emph{ring}~#1}

\newcommand{\asminstr}[1]{\texttt{#1}}

\newcommand{\wip}[0]{%
\begin{center}
    \includegraphics[width=5cm]{gen/travaux.pdf}
\end{center}
}
