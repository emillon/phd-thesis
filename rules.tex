\def\disprule#1{
  \switch{#1}
    {Cst-Int}{ \irule{Cst-Int}
                 { }
                 { Γ, S ⊢ i : \tInt}
    }
    {Cst-Float}{ \irule{Cst-Float}
                   { }
                   { Γ, S ⊢ f : \tFloat}
    }
    {Cst-Null}{ \irule{Cst-Null}
                  { }
                  { Γ, S ⊢ \eNull : t*}
    }
    {Lv-Var}{ \irule{Lv-Var}
                { x : t ∈ Γ }
                { Γ, S ⊢ x : t }
    }
    {Lv-Deref}{ \irule{Lv-Deref}
                  { Γ, S ⊢ lv : t* }
                  { Γ, S ⊢ *lv : t }
    }
    {Lv-Index}{ \irule{Lv-Index}
                  { Γ, S ⊢ e : \tInt \\
                    Γ, S ⊢ lv : t[]
                  }
                  { Γ, S ⊢ lv[e] : t }
    }
    {Lv-Field}{ \irule{Lv-Field}
                  { (s, f, t_f) ∈ S \\
                    Γ, S ⊢ lv : \tstruct{s}
                  }
                  { Γ, S ⊢ lv.f : t_f }
    }
    {Op-Int}{ \irule{Op-Int}{
                \opbin ∈ \{+,-,\times,/,\&,|,\opxor,\&\&,||,\ll,\gg \} \\
                Γ, S ⊢ e_1 : \tInt \\
                Γ, S ⊢ e_2 : \tInt
              }{
                Γ, S ⊢ e_1~\opbin~e_2 : \tInt
              }
    }
    {Op-Float}{ \irule{Op-Float}
                { \opbin ∈ \{+.,-.,\times.,/.\} \\
                  Γ, S ⊢ e_1 : \tFloat \\
                  Γ, S ⊢ e_2 : \tFloat
                }{
                  Γ, S ⊢ e_1~\opbin~e_2 : \tFloat
                }
    }
    {Eq-Num}{ \irule{Eq-Num}
                {t ∈ \{ \tInt, \tFloat \}}
                {\textsc{Eq}(t)}
    }
    {Eq-Ptr}{ \irule{Eq-Ptr}
                {\textsc{Eq}(t)}
                {\textsc{Eq}(t*)}
    }
    {Eq-Array}{ \irule{Eq-Array}
                  {\textsc{Eq}(t)}
                  {\textsc{Eq}(t[])}
    }
    {Op-Eq}{ \irule{Op-Eq}
             { \opbin ∈ \{=,≠\} \\
               Γ, S ⊢ e_1 : t \\
               Γ, S ⊢ e_2 : t \\
               \textsc{Eq}(t)
             }{
               Γ, S ⊢ e_1~\opbin~e_2 : \tInt
             }
    }
    {Op-Comparable}{ \irule{Op-Comparable}{
                       \opbin ∈ \{=,≠,≤,≥,<,>\} \\
                       Γ, S ⊢ e_1 : t \\
                       Γ, S ⊢ e_2 : t \\
                       t ∈ \{ \tInt, \tFloat \}
                     }{
                       Γ, S ⊢ e_1~\opbin~e_2 : \tInt
                     }
    }
    {Unop-Plus-Int}{ \irule{Unop-Plus-Int}
                       { Γ, S ⊢ e : \tInt }
                       { Γ, S ⊢ + e : \tInt }
    }
    {Unop-Plus-Float}{ \irule{Unop-Plus-Float}
                         { Γ, S ⊢ e : \tFloat }
                         { Γ, S ⊢ +. e : \tFloat }
    }
    {Unop-Minus-Int}{ \irule{Unop-Minus-Int}
                        { Γ, S ⊢ e : \tInt }
                        { Γ, S ⊢ - e : \tInt }
    }
    {Unop-Minus-Float}{ \irule{Unop-Minus-Float}
                          { Γ, S ⊢ e : \tFloat }
                          { Γ, S ⊢ -. e : \tFloat }
    }
    {Unop-Not}{ \irule{Unop-Not}
                { \opun ∈ \{ \sim, ! \} \\
                  Γ, S ⊢ e : \tInt
                }{
                  Γ, S ⊢ \opun~e : \tInt
                }
              }
    {Ptr-Arith}{ \irule{Ptr-Arith}
                   { \opbin ∈ \{ +_p, -_p \} \\
                     Γ, S ⊢ e_1 : t* \\
                     Γ, S ⊢ e_2 : \tInt \\
                   }
                   { Γ, S ⊢ e_1~\opbin~e_2 : t* }
               }
    {Addr}{ \irule{Addr}
              { Γ, S ⊢ lv : t }
              { Γ, S ⊢ \&lv : t* }
          }
    {Set}{ \irule{Set}
             { Γ, S ⊢ lv : t \\
               Γ, S ⊢ e : t
             }
             { Γ, S ⊢ lv ← e : t }
         }
    {Array}{ \irule{Array}
               { ∀ i ∈ [1;n] , Γ, S ⊢ e_i : t }
               { Γ, S ⊢ \{ e_1 ;
                       … ; e_n \}
                       : t[]
               }
           }
    {Struct}{ \irule{Struct}
                { ∀ i ∈ [1;n], Γ, S ⊢ e_i : t_i \\
                  ∀ i ∈ [1;n], (s, f_i, t_i) ∈ S
                }
                { Γ, S ⊢ \{ f_1 : e_1 ;
                        … ; f_n : e_n \}
                        : \tstruct{s}
                }
            }
    {Call}{ \irule{Call}
              { Γ, S ⊢ e : ( t_1 ,
                         … , t_n ) → t \\
                ∀ i ∈ [1;n], Γ, S ⊢ e_i : t_i
              }
              { Γ, S ⊢ e ( e_1
                         , …
                         , e_n
                         )
                      : t
              }
          }
    {Pass}{ \irule{Pass}
              { }
              {Γ, S ⊢ \iPass}
          }
    {Seq}{ \irule{Seq}
             { Γ, S ⊢ i_1 \\
               Γ, S ⊢ i_2
             }{
               Γ, S ⊢ i_1;i_2
             }
         }
    {Exp}{ \irule{Exp}
             { Γ, S ⊢ e : t }
             { Γ, S ⊢ e }
         }
    {If}{ \irule{If}
            { Γ, S ⊢ e : \tInt \\
              Γ, S ⊢ i_1 \\
              Γ, S ⊢ i_2
            }
            { Γ, S ⊢ \iIf{e}{i_1}{i_2} }
        }
    {While}{ \irule{While}
               { Γ, S ⊢ e : \tInt \\
                 Γ, S ⊢ i
               }
               { Γ, S ⊢ \iWhile{e}{i} }
           }
    {Return}{ \irule{Return}
                { Γ, S ⊢ \vRet ← e }
                { Γ, S ⊢ \iReturn{e} }
            }
    {Fun}{ \irule{Fun}
             { Γ' = (Γ - \vRet), a_1 : t_1, …, a_n : t_n,
                    l_1 : t'_1, …, l_n : t'_p,
                    \vRet : t \\
               ∀ i ∈ [1;p], Γ ⊢ e_i : t'_i \\
               Γ' ⊢ i
             }
             { Γ ⊢ \mathrm{fun} (a_1, …, a_n)
                   ((l_1, e_1), …, (l_p, e_p)) \{i\}
                    : (t_1, …, t_n) → t
             }
         }
    {Ph-Exp}{ \irule{Ph-Exp}
                { Γ, S ⊢ e : t }
                { \typh{Γ}{S}{e}{Γ}{S} }
            }
    {Ph-Var}{ \irule{Ph-Var}
                { Γ, S ⊢ e : t \\
                  Γ' = (x, t), Γ
                }
                { \typh{Γ}{S}{p}{Γ'}{S} }
            }
    {Ph-Struct}{ \irule{Ph-Struct}
                   { S' =
                     (x_1, t_1, s),
                     …
                     (x_n, t_n, s), S
                   }
                   { \typh{Γ}{S}{ \tstruct{s}
                                     \{ x_1 : t_1
                                      ; …
                                      ;  x_n : t_n
                                     \}
                                 }{Γ}{S'}
                   }
               }
    {END}
}
